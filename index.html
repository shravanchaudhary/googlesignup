<!DOCTYPE html>
<html>
	<head>
		<title>Signup Page</title>
		<style>
			body{
				padding: 22px;
			}
			#main_container {
				height: 454px;
				width: 668px;
				padding: 48px 40px 36px 40px; 
				margin: auto;
				border-radius: 8px;
				border-style: solid;
  				border-width: 1px;
  				border-color: #dadce0;
			}
			#signup_container {
				float: left;
				height: 454px;
				width: 368px;
				margin-left: -48px;
				margin-right: -48px; 
				padding-left: 48px;
				padding-right: 48px;
			} 
			#logo_container {
				float: left;
				padding-left: 48px;
				height: 454px;
				width: 252px;
			} 
			.container{
				clear:both;
				width: 100%;
				padding: 1px;
				display: table;
		    	table-layout: fixed;
				height: 60px;
			}
			.input_wrapper{
				display: table-cell;
				padding-top: 3px;
				padding-right: 8px;
			}
			
			#emailinfo{
				height: 50px;
			}
			#passwordinfo{
				height: 50px;
			}
			.input_field{
				margin-right: 30px;
			}
			.input_field input{
				width: 100%;
				display: block;
				border-radius: 4px;
				border: solid #dadce0 1px;
				font-size: 14px;
			    height: 20px;
			    padding: 7px 11px;
			}
			.warning{
				font-size: 13px;
				padding-top: 6px;
				color:red;
				display: none;
				height: 44px;
				width: auto;
			}
			.infopanel{
				display: table-row;
				line-height: 30px;
				font-size: 13px;
				color:black;
				margin-bottom: 50px;
			}
			#google{
				height: 24px;
				font-size: 20px;
			}
			#info{
				width: 368px;
				height: 80px;
			}
			#info > h2{
				margin:0px;
				height: 32px;
				padding-top: 16px;
			}
			#info > p{
				margin:0px;
				height: 24px;
				padding-top: 8px;
			}
			form{
				margin-top: 25px;
			}
			
			.login{
				margin-top: 10px;
				padding-top:10px;
				float: left;
				text-decoration: none;
				color:#1a73e8;
			}
			.next{
				margin: 10px;
				padding:10px;
				float: right;
				width: 100px;
				border-radius: 3px;
				background-color:rgb(26, 115, 232);
				color:white;
				font-weight: bold;
				cursor: pointer;
			}
			figure {
			    margin-right: 4px;
			    margin-left: 4px;
			    margin-top: 80px;
			}
			figcaption {
			    display: block;
			    text-align: center;
			}
			
			.showhide img{
				height: 24px;
				width: 24px;
				padding-bottom: 5px;
				vertical-align: middle;
				cursor:pointer;
			}
			#show{
				display: none;
			}
			div[id=password_warning]{
				width: 156px;
			}
			#reg_container{
				display: block;
			}
			#phone_container{
				display: none;
			}
			#phone_form{
				margin-top: 60px;
			}
			#verification_form{
				margin-top: 60px;
			}
			#verification_form{
				display: none;
			}
			#phone_number{
				font-weight: bold;
				margin:10px;
			}
		</style>
		<script>
			var reg_container, phone_container;
			
			function iniVar(){
				reg_container = document.getElementById("reg_container");
				phone_container = document.getElementById("phone_container");
			}

			function first_page() {
				toggledisplay(reg_container,"block",phone_container,"none");
				document.getElementById("password").value = "";
				document.getElementById("confirm").value = "";
			}
				
			function second_page() {
				document.getElementById("phone_form").style.display = "block";
				document.getElementById("verification_form").style.display = "none";
			}

		    function toggledisplay(elem1,val1,elem2,val2){
		    	elem1.style.display = val1;
		    	elem2.style.display = val2;
		    }

		    function setdisplay(elem,val){
		    	elem.style.display = val;
		    }

			function validate_form(){
				var first_name_tag = document.getElementById("first_name");               
			    var last_name_tag = document.getElementById("last_name");
			    var password_tag = document.getElementById("password");
			    var confirm_tag =  document.getElementById("confirm");
			    var email_tag = document.getElementById("email");

			    var fname = first_name_tag.value;
			    var lname = last_name.value;
			    var password = password_tag.value;
			    var confirm = confirm_tag.value;
			    var email = email_tag.value;

			    var fn_warning_div = document.getElementById("fn_warning");
			    var ln_warning_div = document.getElementById("ln_warning");
			    var email_warning_div = document.getElementById("email_warning");
			    var password_warning_div = document.getElementById("password_warning");
			    var confirm_warning_div = document.getElementById("confirm_warning");
			    var email_info_div = document.getElementById("emailinfo");
			    var password_info_div = document.getElementById("passwordinfo");
			    function reset_confirm(){
			    	confirm_tag.style.borderColor = "grey";
		    		confirm_warning_div.innerHTML = "";
		    		confirm_tag.value = "";
			    }

			    function check_fn(){
			    	var warning = "";
			    	if(fname==""){
			    		warning = "Enter first name";
				    }
				    if(warning){
				    	first_name_tag.style.borderColor = "red";
				    	setdisplay(fn_warning_div,"block");
				    	fn_warning_div.innerHTML = warning;
				    }else{
				    	first_name_tag.style.borderColor = "grey";
				    	setdisplay(fn_warning_div,"none");
				    }
				    return warning == "";
			    }

			    function check_ln(){
			    	var warning = "";
			    	if(lname==""){
			    		warning = "Enter last name";
				    }
				    if(warning){
				    	last_name_tag.style.borderColor = "red";
				    	setdisplay(ln_warning_div,"block");
				    	ln_warning_div.innerHTML = warning;
				    }else{
				    	last_name_tag.style.borderColor = "grey";
				    	setdisplay(ln_warning_div,"none");
				    }
				    return warning == "";
			    }

			    function check_email(){
			    	if(email.endsWith("@gmail.com")){
			    		email = email.replace("@gmail.com","");
			    	}
			    	var email_regex = /^[\w.]+$/;
			 		
			    	var warning = "";
				    if(email==""){
				    	warning = "Choose a Gmail address";
				    }else if(!email_regex.test(email)){
				    	warning = "Sorry, only letters (a-z), numbers (0-9), and periods (.) are allowed."
				    }
				    if(warning){
 						toggledisplay(email_info_div,"none",email_warning_div,"block");
				    	email_tag.style.borderColor = "red";
					    email_warning_div.innerHTML = warning;
				    }else{
				    	email_tag.style.borderColor = "grey";
					    email += "@gmail.com";
 						toggledisplay(email_info_div,"table-row",email_warning_div,"none");
				    }
				    return warning == "";
			    }

			    function check_password(){
			    	var warning = "";
				    if(password==""){
				    	warning = "Enter password";
				    }else if(password.length < 8 && password.length > 0){
				    	warning = "Use 8 characters or more";
				    }
				    if(warning){
				    	toggledisplay(password_info_div,"none",password_warning_div,"block");
				    	password_tag.style.borderColor = "red";
				    	reset_confirm();
				    	password_warning_div.innerHTML = warning;
				    }else{
				    	password_tag.style.borderColor = "grey";
				    	setdisplay(password_warning_div,"none");
				    }
				    return warning == "";
			    }

			    function check_confirm(){
			    	var warning = "";
			    	if(confirm==""){
				    	warning = "Confirm your password";
				    }else if(password!=confirm){
				    	warning = "Passwords do not match!";
				    }
				    if(warning){
				    	toggledisplay(password_info_div,"none",confirm_warning_div,"block");
				    	confirm_tag.style.borderColor = "red";
				    	confirm_tag.value = "";
				    	confirm_warning_div.innerHTML = warning;
				    }else{
				    	confirm_tag.style.borderColor = "grey";
				    	setdisplay(confirm_warning_div,"none");
				    }
				    return warning == "";
			    }


			    function check_password_strength(){
			    	var strong_password_regex = /^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,}$/;
			    	if(!strong_password_regex.test(password)){
			    		toggledisplay(password_info_div,"none",password_warning_div,"block");
			    		password_warning_div.innerHTML = "Please choose a stronger password. Try a mix of letters, numbers, and symbols.";
			    		reset_confirm();
			    		password_tag.style.borderColor = "red";
			    	}else{
			    		return true;
			    		setdisplay(password_info_div,"block");
			    	}
			    }


			    var valid_count = 0;
 				if(check_fn()){
 					valid_count++;
 				}
 				if(check_ln()){
 					valid_count++;
 				}
 				if(check_email()){
 					valid_count++;
 				}
 				if(check_password()){
 					valid_count++;
 					if(check_confirm()){
 						valid_count++;
 						if(check_password_strength()){
 							valid_count++;
 						}
 					}
 				}
 				var reg_container = document.getElementById("reg_container");
 				var phone_container = document.getElementById("phone_container");
 				if(valid_count == 6){
 					localStorage.setItem("first_name", fname);
 					localStorage.setItem("last_name", lname);
 					localStorage.setItem("email", email);
 					localStorage.setItem("password", password);
 					toggledisplay(reg_container,"none",phone_container,"block");
 					return false;
 				}
			    return false;
			}
			function validate_number(){
				var phone_tag = document.getElementById("phone");
				var phone = phone_tag.value;
				var phone_warning_div = document.getElementById("phone_warning");
				var verification_form = document.getElementById("verification_form");
				var phone_form = document.getElementById("phone_form");
				var phone_number_div = document.getElementById("phone_number");
				var phone_regex = /^\d{10}$/;
				function check_phone(){
			    	var warning = "";
				    if(phone==""){
				    	warning = "Please enter a phone number";
				    }else if(!phone_regex.test(phone)){
				    	warning = "This phone number format is not recognized. Please enter a valid phone number.";
				    }
				    if(warning){
				    	phone_tag.style.borderColor = "red";
				    	setdisplay(phone_warning_div,"block");
				    	phone_warning_div.innerHTML = warning;
				    }else{
				    	localStorage.setItem("phone", phone);
				    	setdisplay(phone_warning_div,"none");
						number_verifier();
				    }
				    return warning == "";
			    }
			    check_phone();
			    return false;
			}
			function number_verifier(){
				var phone_form = document.getElementById("phone_form");
				var verification_form = document.getElementById("verification_form");
				var phone_number_div = document.getElementById("phone_number");
				toggledisplay(phone_form,"none", verification_form,"block");
				phone_number_div.innerHTML = localStorage.getItem("phone");
			}
	    	
	    	function validate_verification() {
	    		alert("Retrieve all data from localStorage and post it to the server");
	    		return true;
	    	}
				    
			function hide() {
			  	document.getElementById("password").type = "password";
			  	document.getElementById("confirm").type = "password";
			  	document.getElementById("show").style.display="none";
			  	document.getElementById("hide").style.display="block";
			}
			function show() {
			    document.getElementById("password").type = "text";
			  	document.getElementById("confirm").type = "text";
			  	document.getElementById("show").style.display="block";
			  	document.getElementById("hide").style.display="none";
			}
		</script>
	</head>
	<body onload="iniVar()">
		<div id="main_container">
			<div id="signup_container">
				<div id="google">Google</div>
				<div id="reg_container">
					<div id="info">
						<h2>
							Create your Google Account
						</h2>
						<p>
							Continue to Gmail
						</p>
					</div>
					<form id="reg_form" name="reg_form" onsubmit="return validate_form()" method="post">
						<div id="name_container" class="container">
							<div class="input_wrapper">
								<div class="input_field">
									<input type="text" name="first_name" id="first_name" placeholder="First Name">
								</div>
								<div>
									<div class="warning" id="fn_warning"></div>	
								</div>
							</div>
							<div class="input_wrapper">
								<div class="input_field">
									<input type="text" name="last_name" id="last_name" placeholder="Last Name">
								</div>
								<div>
									<div class="warning" id="ln_warning"></div>	
								</div>
							</div>
						</div>
						<div id="email_container" class="container">
							<div class="input_wrapper">
								<div class="input_field">
									<input type="text" name="email" id="email" placeholder="Username">
								</div>
								<div>
									<div class="warning" id="email_warning"></div>	
								</div>
							</div>
							<div  class="infopanel">
								<div id="emailinfo">
									You can use letters, numbers & periods
								</div>
							</div>
						</div>
						<div id="password_container" class="container">
							<div class="input_wrapper">
								<div class="input_wrapper">
									<div class="input_field">
										<input type="password" id="password" name="password" placeholder="Password">
									</div>
									<div>
										<div class="warning" id="password_warning"></div>
									</div>
								</div>
								<div class="input_wrapper">
									<div class="input_field">
										<input type="password" name="confirm" id="confirm" placeholder="Confirm">
									</div>
									<div>
										<div class="warning" id="confirm_warning"></div>
									</div>
								</div>
								<div class="input_wrapper">
									<div onclick="show()" class ="showhide" id="hide" ><img src="images/hide.png"></div>
									<div onclick="hide()" class="showhide" id="show" ><img src="images/show.png"></div>
								</div>
							</div>
							<div  class="infopanel">
								<div id="passwordinfo">
									Use 8 or more characters with a mix of letters, numbers & symbols
								</div>
							</div>
						</div>
						<div id="submit_container" class="container">
							<a href="login.php" class= "login" id="signin">Sign in instead</a>
							<button type="submit" class="next" name="NEXT1" value="NEXT1" id="next1">NEXT</button>
						</div>
					</form>
				</div>	
				<div id="phone_container">
					<div id="info">
						<h2>
							Verify your phone number
						</h2>
						<p>
							For your security, Google wants to make sure it’s really you. Google will send a text message with a 6-digit verification code. Standard rates apply
						</p>
					</div>
					<form id="phone_form" name="phone_form" onsubmit="return validate_number()" method="post">
						<div id="phone_number_container" class="container">
							<div class="input_wrapper">
								<div class="input_field">
									<input type="text" name="phone" id="phone" placeholder="Phone Number">
								</div>
								<div>
									<div class="warning" id="phone_warning"></div>	
								</div>
							</div>
						</div>
						<div id="submit_container" class="container">
							<a href="#" class = "login" onclick="first_page()" id="first_page_switcher">Back</a>
							<button type="submit" class="next" name="NEXT2" value="NEXT2" id="next2">NEXT</button>
						</div>
					</form>

					<form id="verification_form" name="verification_form" onsubmit="return validate_verification()" method="post">
						<div id="phone_number"></div>
						<div id="verification_container" class="container">
							<div class="input_wrapper">
								<div class="input_field">
									<input type="text" name="verification" id="verification" placeholder="Enter verification code">
								</div>
								<div>
									<div class="warning" id="verification_warning"></div>	
								</div>
							</div>
						</div>

						<div id="submit_container" class="container">
							<a href="#" class = "login" onclick="second_page()" id="second_page_switcher">Back</a>
							<button type="submit" class="next" name="NEXT3" value="NEXT3" id="next3">VERIFY</button>
						</div>
					</form>
				</div>
					
			</div>
			<div id="logo_container">
				<figure class="btOOZe" style="">
					<img id="showhideimage" src="images/account.svg" alt="" width="244" height="244">
					<figcaption>
						One account. All of Google working for you.
					</figcaption>
				</figure>
			</div>
		</div>
	</body>
</html>
